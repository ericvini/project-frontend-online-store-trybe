{"ast":null,"code":"var _jsxFileName = \"/home/eric/sd-07-project-frontend-online-store/src/components/CategoriesList.js\";\nimport React from 'react';\nimport PropType from 'prop-types';\nimport * as api from '../services/api'; // code idea based on <GP-7><Thx!>\n\nclass CategoriesList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      categoryId: '',\n      categories: []\n    };\n    this.setCategories = this.setCategories.bind(this);\n    this.getCategoryId = this.getCategoryId.bind(this);\n  }\n\n  componentDidMount() {\n    this.setCategories();\n  }\n\n  async setCategories() {\n    const categories = await api.getCategories();\n    this.setState({\n      categories\n    });\n  }\n\n  getCategoryId(categoryId) {\n    const {\n      fetchByCategory\n    } = this.props;\n    this.setState({\n      categoryId\n    }, () => {\n      const {\n        state\n      } = this;\n      fetchByCategory(state.categoryId);\n    });\n  }\n\n  render() {\n    const {\n      categories\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, \"Categorias\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, categories.map(category => /*#__PURE__*/React.createElement(\"li\", {\n      \"data-testid\": \"category\",\n      key: category.id,\n      onClick: () => {\n        this.getCategoryId(category.id);\n      },\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }\n    }, category.name)))));\n  }\n\n}\n\nCategoriesList.propTypes = {\n  fetchByCategory: PropType.func.isRequired\n};\nexport default CategoriesList;","map":{"version":3,"sources":["/home/eric/sd-07-project-frontend-online-store/src/components/CategoriesList.js"],"names":["React","PropType","api","CategoriesList","Component","constructor","state","categoryId","categories","setCategories","bind","getCategoryId","componentDidMount","getCategories","setState","fetchByCategory","props","render","map","category","id","name","propTypes","func","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,iBAArB,C,CACA;;AACA,MAAMC,cAAN,SAA6BH,KAAK,CAACI,SAAnC,CAA6C;AAC3CC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,EADD;AAEXC,MAAAA,UAAU,EAAE;AAFD,KAAb;AAIA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKH,aAAL;AACD;;AAED,QAAMA,aAAN,GAAsB;AACpB,UAAMD,UAAU,GAAG,MAAMN,GAAG,CAACW,aAAJ,EAAzB;AACA,SAAKC,QAAL,CAAc;AACZN,MAAAA;AADY,KAAd;AAGD;;AAEDG,EAAAA,aAAa,CAACJ,UAAD,EAAa;AACxB,UAAM;AAAEQ,MAAAA;AAAF,QAAsB,KAAKC,KAAjC;AACA,SAAKF,QAAL,CAAc;AAAEP,MAAAA;AAAF,KAAd,EACE,MAAM;AACJ,YAAM;AAAED,QAAAA;AAAF,UAAY,IAAlB;AACAS,MAAAA,eAAe,CAACT,KAAK,CAACC,UAAP,CAAf;AACD,KAJH;AAKD;;AAEDU,EAAAA,MAAM,GAAG;AACP,UAAM;AAAET,MAAAA;AAAF,QAAiB,KAAKF,KAA5B;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,UAAU,CAACU,GAAX,CAAgBC,QAAD,iBACd;AACE,qBAAY,UADd;AAEE,MAAA,GAAG,EAAGA,QAAQ,CAACC,EAFjB;AAGE,MAAA,OAAO,EAAG,MAAM;AAAE,aAAKT,aAAL,CAAmBQ,QAAQ,CAACC,EAA5B;AAAkC,OAHtD;AAIE,qBAAY,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMID,QAAQ,CAACE,IANb,CADD,CADH,CAFF,CADF,CADF;AAkBD;;AAnD0C;;AAsD7ClB,cAAc,CAACmB,SAAf,GAA2B;AACzBP,EAAAA,eAAe,EAAEd,QAAQ,CAACsB,IAAT,CAAcC;AADN,CAA3B;AAIA,eAAerB,cAAf","sourcesContent":["import React from 'react';\nimport PropType from 'prop-types';\nimport * as api from '../services/api';\n// code idea based on <GP-7><Thx!>\nclass CategoriesList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      categoryId: '',\n      categories: [],\n    };\n    this.setCategories = this.setCategories.bind(this);\n    this.getCategoryId = this.getCategoryId.bind(this);\n  }\n\n  componentDidMount() {\n    this.setCategories();\n  }\n\n  async setCategories() {\n    const categories = await api.getCategories();\n    this.setState({\n      categories,\n    });\n  }\n\n  getCategoryId(categoryId) {\n    const { fetchByCategory } = this.props;\n    this.setState({ categoryId },\n      () => {\n        const { state } = this;\n        fetchByCategory(state.categoryId);\n      });\n  }\n\n  render() {\n    const { categories } = this.state;\n    return (\n      <div>\n        <div>\n          <h1>Categorias</h1>\n          <ul>\n            {categories.map((category) => (\n              <li\n                data-testid=\"category\"\n                key={ category.id }\n                onClick={ () => { this.getCategoryId(category.id); } }\n                aria-hidden=\"true\"\n              >\n                { category.name }\n              </li>))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nCategoriesList.propTypes = {\n  fetchByCategory: PropType.func.isRequired,\n};\n\nexport default CategoriesList;\n"]},"metadata":{},"sourceType":"module"}